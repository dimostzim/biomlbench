datasets:
- dataset_description: Tabula Sapiens is a benchmark, first-draft human cell atlas
    of nearly 500,000 cells from 24 organs of 15 normal human subjects. This work
    is the product of the Tabula Sapiens Consortium. Taking the organs from the same
    individual controls for genetic background, age, environment, and epigenetic effects
    and allows detailed analysis and comparison of cell types that are shared between
    tissues. Our work creates a detailed portrait of cell types as well as their distribution
    and variation in gene expression across tissues and within the endothelial, epithelial,
    stromal and immune compartments.
  dataset_id: cellxgene_census/tabula_sapiens
  dataset_name: Tabula Sapiens
  dataset_organism: homo_sapiens
  dataset_reference: consortium2022tabula
  dataset_summary: A multiple-organ, single-cell transcriptomic atlas of humans
  dataset_url: https://cellxgene.cziscience.com/collections/e5f58829-1a66-40b5-a624-9046778e74f5
  date_created: 28-06-2024
  file_size: 6221045949
- dataset_description: 90k cells from zebrafish embryos throughout the first day of
    development, with and without a knockout of chordin, an important developmental
    gene.
  dataset_id: openproblems_v1/zebrafish
  dataset_name: Zebrafish embryonic cells
  dataset_organism: danio_rerio
  dataset_reference: wagner2018single
  dataset_summary: Single-cell mRNA sequencing of zebrafish embryonic cells.
  dataset_url: https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE112294
  date_created: 28-06-2024
  file_size: 243377456
- dataset_description: Human pancreatic islet scRNA-seq data from 6 datasets across
    technologies (CEL-seq, CEL-seq2, Smart-seq2, inDrop, Fluidigm C1, and SMARTER-seq).
  dataset_id: openproblems_v1/pancreas
  dataset_name: Human pancreas
  dataset_organism: homo_sapiens
  dataset_reference: luecken2022benchmarking
  dataset_summary: Human pancreas cells dataset from the scIB benchmarks
  dataset_url: https://theislab.github.io/scib-reproducibility/dataset_pancreas.html
  date_created: 28-06-2024
  file_size: 323758328
- dataset_description: 100k FACS-isolated C. elegans neurons from 17 experiments sequenced
    on 10x Genomics.
  dataset_id: openproblems_v1/cengen
  dataset_name: CeNGEN
  dataset_organism: caenorhabditis_elegans
  dataset_reference: hammarlund2018cengen
  dataset_summary: Complete Gene Expression Map of an Entire Nervous System
  dataset_url: https://www.cengen.org
  date_created: 28-06-2024
  file_size: 275514300
- dataset_description: "The hypothalamus plays a key role in coordinating fundamental\
    \ body functions. Despite recent progress in single-cell technologies, a unified\
    \ catalogue and molecular characterization of the heterogeneous cell types and,\
    \ specifically, neuronal subtypes in this brain region are still lacking. Here\
    \ we present an integrated reference atlas \u201CHypoMap\u201D of the murine hypothalamus\
    \ consisting of 384,925 cells, with the ability to incorporate new additional\
    \ experiments. We validate HypoMap by comparing data collected from SmartSeq2\
    \ and bulk RNA sequencing of selected neuronal cell types with different degrees\
    \ of cellular heterogeneity."
  dataset_id: cellxgene_census/hypomap
  dataset_name: HypoMap
  dataset_organism: mus_musculus
  dataset_reference: steuernagel2022hypomap
  dataset_summary: A unified single cell gene expression atlas of the murine hypothalamus
  dataset_url: https://cellxgene.cziscience.com/collections/d86517f0-fa7e-4266-b82e-a521350d6d36
  date_created: 28-06-2024
  file_size: 3984884840
- dataset_description: Despite their crucial role in health and disease, our knowledge
    of immune cells within human tissues remains limited. We surveyed the immune compartment
    of 16 tissues from 12 adult donors by single-cell RNA sequencing and VDJ sequencing
    generating a dataset of ~360,000 cells. To systematically resolve immune cell
    heterogeneity across tissues, we developed CellTypist, a machine learning tool
    for rapid and precise cell type annotation. Using this approach, combined with
    detailed curation, we determined the tissue distribution of finely phenotyped
    immune cell types, revealing hitherto unappreciated tissue-specific features and
    clonal architecture of T and B cells. Our multitissue approach lays the foundation
    for identifying highly resolved immune cell types by leveraging a common reference
    dataset, tissue-integrated expression analysis, and antigen receptor sequencing.
  dataset_id: cellxgene_census/immune_cell_atlas
  dataset_name: Immune Cell Atlas
  dataset_organism: homo_sapiens
  dataset_reference: dominguez2022crosstissue
  dataset_summary: Cross-tissue immune cell analysis reveals tissue-specific features
    in humans
  dataset_url: https://cellxgene.cziscience.com/collections/62ef75e4-cbea-454e-a0ce-998ec40223d3
  date_created: 28-06-2024
  file_size: 3090015966
- dataset_description: Understanding the function of genes and their regulation in
    tissue homeostasis and disease requires knowing the cellular context in which
    genes are expressed in tissues across the body. Single cell genomics allows the
    generation of detailed cellular atlases in human tissues, but most efforts are
    focused on single tissue types. Here, we establish a framework for profiling multiple
    tissues across the human body at single-cell resolution using single nucleus RNA-Seq
    (snRNA-seq), and apply it to 8 diverse, archived, frozen tissue types (three donors
    per tissue). We apply four snRNA-seq methods to each of 25 samples from 16 donors,
    generating a cross-tissue atlas of 209,126 nuclei profiles, and benchmark them
    vs. scRNA-seq of comparable fresh tissues. We use a conditional variational autoencoder
    (cVAE) to integrate an atlas across tissues, donors, and laboratory methods. We
    highlight shared and tissue-specific features of tissue-resident immune cells,
    identifying tissue-restricted and non-restricted resident myeloid populations.
    These include a cross-tissue conserved dichotomy between LYVE1- and HLA class
    II-expressing macrophages, and the broad presence of LAM-like macrophages across
    healthy tissues that is also observed in disease. For rare, monogenic muscle diseases,
    we identify cell types that likely underlie the neuromuscular, metabolic, and
    immune components of these diseases, and biological processes involved in their
    pathology. For common complex diseases and traits analyzed by GWAS, we identify
    the cell types and gene modules that potentially underlie disease mechanisms.
    The experimental and analytical frameworks we describe will enable the generation
    of large-scale studies of how cellular and molecular processes vary across individuals
    and populations.
  dataset_id: cellxgene_census/gtex_v9
  dataset_name: GTEX v9
  dataset_organism: homo_sapiens
  dataset_reference: eraslan2022singlenucleus
  dataset_summary: Single-nucleus cross-tissue molecular reference maps to decipher
    disease gene function
  dataset_url: https://cellxgene.cziscience.com/collections/a3ffde6c-7ad2-498a-903c-d58e732f7470
  date_created: 28-06-2024
  file_size: 965158004
- dataset_description: Multimodal single cell sequencing is a powerful tool for interrogating
    cell-specific changes in transcription and chromatin accessibility. We performed
    single nucleus RNA (snRNA-seq) and assay for transposase accessible chromatin
    sequencing (snATAC-seq) on human kidney cortex from donors with and without diabetic
    kidney disease (DKD) to identify altered signaling pathways and transcription
    factors associated with DKD. Both snRNA-seq and snATAC-seq had an increased proportion
    of VCAM1+ injured proximal tubule cells (PT_VCAM1) in DKD samples. PT_VCAM1 has
    a pro-inflammatory expression signature and transcription factor motif enrichment
    implicated NFkB signaling. We used stratified linkage disequilibrium score regression
    to partition heritability of kidney-function-related traits using publicly-available
    GWAS summary statistics. Cell-specific PT_VCAM1 peaks were enriched for heritability
    of chronic kidney disease (CKD), suggesting that genetic background may regulate
    chromatin accessibility and DKD progression. snATAC-seq found cell-specific differentially
    accessible regions (DAR) throughout the nephron that change accessibility in DKD
    and these regions were enriched for glucocorticoid receptor (GR) motifs. Changes
    in chromatin accessibility were associated with decreased expression of insulin
    receptor, increased gluconeogenesis, and decreased expression of the GR cytosolic
    chaperone, FKBP5, in the diabetic proximal tubule. Cleavage under targets and
    release using nuclease (CUT&RUN) profiling of GR binding in bulk kidney cortex
    and an in vitro model of the proximal tubule (RPTEC) showed that DAR co-localize
    with GR binding sites. CRISPRi silencing of GR response elements (GRE) in the
    FKBP5 gene body reduced FKBP5 expression in RPTEC, suggesting that reduced FKBP5
    chromatin accessibility in DKD may alter cellular response to GR. We developed
    an open-source tool for single cell allele specific analysis (SALSA) to model
    the effect of genetic background on gene expression. Heterozygous germline single
    nucleotide variants (SNV) in proximal tubule ATAC peaks were associated with allele-specific
    chromatin accessibility and differential expression of target genes within cis-coaccessibility
    networks. Partitioned heritability of proximal tubule ATAC peaks with a predicted
    allele-specific effect was enriched for eGFR, suggesting that genetic background
    may modify DKD progression in a cell-specific manner.
  dataset_id: cellxgene_census/dkd
  dataset_name: Diabetic Kidney Disease
  dataset_organism: homo_sapiens
  dataset_reference: wilson2022multimodal
  dataset_summary: Multimodal single cell sequencing implicates chromatin accessibility
    and genetic background in diabetic kidney disease progression
  dataset_url: https://cellxgene.cziscience.com/collections/b3e2c6e3-9b05-4da9-8f42-da38a664b45b
  date_created: 28-06-2024
  file_size: 407547931
- dataset_description: Human immune cells from peripheral blood and bone marrow taken
    from 5 datasets comprising 10 batches across technologies (10X, Smart-seq2).
  dataset_id: openproblems_v1/immune_cells
  dataset_name: Human immune
  dataset_organism: homo_sapiens
  dataset_reference: luecken2022benchmarking
  dataset_summary: Human immune cells dataset from the scIB benchmarks
  dataset_url: https://theislab.github.io/scib-reproducibility/dataset_immune_cell_hum.html
  date_created: 28-06-2024
  file_size: 278450988
- dataset_description: "To better understand pancreatic \u03B2-cell heterogeneity\
    \ we generated a mouse pancreatic islet atlas capturing a wide range of biological\
    \ conditions. The atlas contains scRNA-seq datasets of over 300,000 mouse pancreatic\
    \ islet cells, of which more than 100,000 are \u03B2-cells, from nine datasets\
    \ with 56 samples, including two previously unpublished datasets. The samples\
    \ vary in sex, age (ranging from embryonic to aged), chemical stress, and disease\
    \ status (including T1D NOD model development and two T2D models, mSTZ and db/db)\
    \ together with different diabetes treatments. Additional information about data\
    \ fields is available in anndata uns field 'field_descriptions' and on https://github.com/theislab/mm_pancreas_atlas_rep/blob/main/resources/cellxgene.md."
  dataset_id: cellxgene_census/mouse_pancreas_atlas
  dataset_name: Mouse Pancreatic Islet Atlas
  dataset_organism: mus_musculus
  dataset_reference: hrovatin2023delineating
  dataset_summary: Mouse pancreatic islet scRNA-seq atlas across sexes, ages, and
    stress conditions including diabetes
  dataset_url: https://cellxgene.cziscience.com/collections/296237e2-393d-4e31-b590-b03f74ac5070
  date_created: 28-06-2024
  file_size: 4206768900
metrics:
  _parse_error: Groovy YAML tags not supported
  _raw_content: "- functionality:\n    name: asw_batch\n    namespace: batch_integration/metrics\n\
    \    version: main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id001 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/asw_batch/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: asw_batch\n        label: ASW batch\n\
    \        summary: Average silhouette of batches per cell identity label (cell\
    \ type)\n        description: |\n          We consider the absolute silhouette\
    \ width, s(i), on\n          batch labels per cell i. Here, 0 indicates that batches\
    \ are well mixed, and any\n          deviation from 0 indicates a batch effect:\n\
    \          \U0001D460batch(\U0001D456)=|\U0001D460(\U0001D456)|.\n\n         \
    \ To ensure higher scores indicate better batch mixing, these scores are scaled\
    \ by\n          subtracting them from 1. As we expect batches to integrate within\
    \ cell identity\n          clusters, we compute the batchASWj score for each cell\
    \ label j separately,\n          using the equation:\n          batchASW\U0001D457\
    =1|\U0001D436\U0001D457|\u2211\U0001D456\u2208\U0001D436\U0001D4571\u2212\U0001D460\
    batch(\U0001D456),\n\n          where Cj is the set of cells with the cell label\
    \ j and |Cj| denotes the number of cells\n          in that set.\n\n         \
    \ To obtain the final batchASW score, the label-specific batchASWj scores are\
    \ averaged:\n          batchASW=1|\U0001D440|\u2211\U0001D457\u2208\U0001D440\
    batchASW\U0001D457.\n\n          Here, M is the set of unique cell labels.\n \
    \       reference: luecken2022benchmarking\n        min: 0\n        max: 1\n \
    \       maximize: true\n        v1:\n          path: openproblems/tasks/_batch_integration/batch_integration_embed/metrics/sil_batch.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: embedding\n      type_info:\n        label: Metric (embedding)\n\
    \        summary: A batch integration embedding metric.\n        description:\
    \ |\n          A metric for evaluating batch corrected embeddings.\n      test_setup:\n\
    \        pancreas:\n          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id001\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id001\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/asw_batch/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/asw_batch\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: asw_label\n    namespace: batch_integration/metrics\n    version: main_build\n\
    \    arguments:\n    - type: file\n      name: --input_integrated\n      info:\n\
    \        prediction_type: embedding\n        label: Integrated embedding\n   \
    \     summary: An integrated AnnData HDF5 file.\n        slots:\n          obsm:\n\
    \          - type: double\n            name: X_emb\n            description: integration\
    \ embedding prediction\n            required: true\n          uns:\n         \
    \ - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - type: string\n\
    \            name: normalization_id\n            description: Which normalization\
    \ was used\n            required: true\n          - name: dataset_organism\n \
    \           type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id002 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/asw_label/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: asw_label\n        label: ASW Label\n\
    \        summary: Average silhouette of cell identity labels (cell types)\n  \
    \      description: |\n          For the bio-conservation score, the ASW was computed\
    \ on cell identity labels and\n          scaled to a value between 0 and 1 using\
    \ the equation:\n          celltypeASW=(ASW_C+1)/2,\n\n          where C denotes\
    \ the set of all cell identity labels.\n          For information about the batch\
    \ silhouette score, check sil_batch.\n        reference: luecken2022benchmarking\n\
    \        min: 0\n        max: 1\n        maximize: true\n        v1:\n       \
    \   path: openproblems/tasks/_batch_integration/batch_integration_embed/metrics/silhouette.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: embedding\n      type_info:\n        label: Metric (embedding)\n\
    \        summary: A batch integration embedding metric.\n        description:\
    \ |\n          A metric for evaluating batch corrected embeddings.\n      test_setup:\n\
    \        pancreas:\n          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id002\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id002\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/asw_label/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/asw_label\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: cell_cycle_conservation\n    namespace: batch_integration/metrics\n\
    \    version: main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id003 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/cell_cycle_conservation/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: cell_cycle_conservation\n        label:\
    \ Cell Cycle Conservation\n        summary: Cell cycle conservation score based\
    \ on principle component regression\n          on cell cycle gene scores\n   \
    \     description: |\n          The cell-cycle conservation score evaluates how\
    \ well the cell-cycle effect can be\n          captured before and after integration.\
    \ We computed cell-cycle scores using Scanpy\u2019s\n          score_cell_cycle\
    \ function with a reference gene set from Tirosh et al for the\n          respective\
    \ cell-cycle phases. We used the same set of cell-cycle genes for mouse and\n\
    \          human data (using capitalization to convert between the gene symbols).\
    \ We then computed\n          the variance contribution of the resulting S and\
    \ G2/M phase scores using principal\n          component regression (Principal\
    \ component regression), which was performed for each\n          batch separately.\
    \ The differences in variance before, Varbefore, and after, Varafter,\n      \
    \    integration were aggregated into a final score between 0 and 1, using the\
    \ equation:\n          CCconservation=1\u2212|Varafter\u2212Varbefore|/Varbefore.\n\
    \n          In this equation, values close to 0 indicate lower conservation and\
    \ 1 indicates complete\n          conservation of the variance explained by cell\
    \ cycle. In other words, the variance\n          remains unchanged within each\
    \ batch for complete conservation, while any deviation from\n          the preintegration\
    \ variance contribution reduces the score.\n        reference: luecken2022benchmarking\n\
    \        min: 0\n        max: 1\n        maximize: true\n        v1:\n       \
    \   path: openproblems/tasks/_batch_integration/batch_integration_embed/metrics/cc_score.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: embedding\n      type_info:\n        label: Metric (embedding)\n\
    \        summary: A batch integration embedding metric.\n        description:\
    \ |\n          A metric for evaluating batch corrected embeddings.\n      test_setup:\n\
    \        pancreas:\n          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id003\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id003\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/cell_cycle_conservation/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/cell_cycle_conservation\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: clustering_overlap\n    namespace: batch_integration/metrics\n    version:\
    \ main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: graph\n        label: Integrated Graph\n\
    \        summary: Integrated AnnData HDF5 file.\n        slots:\n          obsp:\n\
    \          - type: double\n            name: connectivities\n            description:\
    \ Neighbors connectivities matrix.\n            required: true\n          - type:\
    \ double\n            name: distances\n            description: Neighbors connectivities\
    \ matrix.\n            required: true\n          uns:\n          - type: string\n\
    \            name: dataset_id\n            description: A unique identifier for\
    \ the dataset\n            required: true\n          - type: string\n        \
    \    name: normalization_id\n            description: Which normalization was\
    \ used\n            required: true\n          - name: dataset_organism\n     \
    \       type: string\n            description: The organism of the sample in the\
    \ dataset.\n            required: false\n          - type: string\n          \
    \  name: method_id\n            description: A unique identifier for the method\n\
    \            required: true\n          - type: object\n            name: neighbors\n\
    \            description: Supplementary K nearest neighbors data.\n          \
    \  required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id004 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/clustering_overlap/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/pancreas\n\
    \      dest: resources_test/batch_integration/pancreas\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/check_metric_config.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: ari\n        label: ARI\n        summary:\
    \ Adjusted Rand Index compares clustering overlap, correcting for random\n   \
    \       labels and considering correct overlaps and disagreements.\n        description:\
    \ |\n          The Adjusted Rand Index (ARI) compares the overlap of two clusterings;\n\
    \          it considers both correct clustering overlaps while also counting correct\n\
    \          disagreements between two clusterings.\n          We compared the cell-type\
    \ labels with the NMI-optimized\n          Louvain clustering computed on the\
    \ integrated dataset.\n          The adjustment of the Rand index corrects for\
    \ randomly correct labels.\n          An ARI of 0 or 1 corresponds to random labeling\
    \ or a perfect match,\n          respectively.\n        reference:\n        -\
    \ hubert1985comparing\n        - luecken2022benchmarking\n        min: 0\n   \
    \     max: 1\n        maximize: true\n        v1:\n          path: openproblems/tasks/_batch_integration/batch_integration_graph/metrics/ari.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      - name: nmi\n\
    \        label: NMI\n        summary: NMI compares overlap by scaling using mean\
    \ entropy terms and optimizing\n          Louvain clustering to obtain the best\
    \ match between clusters and labels.\n        description: |\n          Normalized\
    \ Mutual Information (NMI) compares the overlap of two clusterings.\n        \
    \  We used NMI to compare the cell-type labels with Louvain clusters computed\
    \ on\n          the integrated dataset. The overlap was scaled using the mean\
    \ of the entropy terms\n          for cell-type and cluster labels. Thus, NMI\
    \ scores of 0 or 1 correspond to uncorrelated\n          clustering or a perfect\
    \ match, respectively. We performed optimized Louvain clustering\n          for\
    \ this metric to obtain the best match between clusters and labels.\n        reference:\n\
    \        - amelio2015normalized\n        - luecken2022benchmarking\n        min:\
    \ 0\n        max: 1\n        maximize: true\n        v1:\n          path: openproblems/tasks/_batch_integration/batch_integration_graph/metrics/nmi.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: graph\n      type_info:\n        label: Metric (graph)\n     \
    \   summary: A batch integration graph metric.\n        description: |\n     \
    \     A metric for evaluating batch corrected cell graphs.\n    status: enabled\n\
    \    set_wd_to_resources_dir: false\n    argument_groups: [\n      ]\n    allArguments:\n\
    \    - type: file\n      name: --input_integrated\n      info:\n        prediction_type:\
    \ graph\n        label: Integrated Graph\n        summary: Integrated AnnData\
    \ HDF5 file.\n        slots:\n          obsp:\n          - type: double\n    \
    \        name: connectivities\n            description: Neighbors connectivities\
    \ matrix.\n            required: true\n          - type: double\n            name:\
    \ distances\n            description: Neighbors connectivities matrix.\n     \
    \       required: true\n          uns:\n          - type: string\n           \
    \ name: dataset_id\n            description: A unique identifier for the dataset\n\
    \            required: true\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - name: dataset_organism\n            type: string\n       \
    \     description: The organism of the sample in the dataset.\n            required:\
    \ false\n          - type: string\n            name: method_id\n            description:\
    \ A unique identifier for the method\n            required: true\n          -\
    \ type: object\n            name: neighbors\n            description: Supplementary\
    \ K nearest neighbors data.\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id004\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: graph\n          label: Integrated\
    \ Graph\n          summary: Integrated AnnData HDF5 file.\n          slots:\n\
    \            obsp:\n            - type: double\n              name: connectivities\n\
    \              description: Neighbors connectivities matrix.\n              required:\
    \ true\n            - type: double\n              name: distances\n          \
    \    description: Neighbors connectivities matrix.\n              required: true\n\
    \            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n            - type: object\n              name: neighbors\n\
    \              description: Supplementary K nearest neighbors data.\n        \
    \      required: true\n        example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id004\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/clustering_overlap/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/clustering_overlap\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: graph_connectivity\n    namespace: batch_integration/metrics\n    version:\
    \ main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: graph\n        label: Integrated Graph\n\
    \        summary: Integrated AnnData HDF5 file.\n        slots:\n          obsp:\n\
    \          - type: double\n            name: connectivities\n            description:\
    \ Neighbors connectivities matrix.\n            required: true\n          - type:\
    \ double\n            name: distances\n            description: Neighbors connectivities\
    \ matrix.\n            required: true\n          uns:\n          - type: string\n\
    \            name: dataset_id\n            description: A unique identifier for\
    \ the dataset\n            required: true\n          - type: string\n        \
    \    name: normalization_id\n            description: Which normalization was\
    \ used\n            required: true\n          - name: dataset_organism\n     \
    \       type: string\n            description: The organism of the sample in the\
    \ dataset.\n            required: false\n          - type: string\n          \
    \  name: method_id\n            description: A unique identifier for the method\n\
    \            required: true\n          - type: object\n            name: neighbors\n\
    \            description: Supplementary K nearest neighbors data.\n          \
    \  required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id005 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/graph_connectivity/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/pancreas\n\
    \      dest: resources_test/batch_integration/pancreas\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/check_metric_config.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: graph_connectivity\n        label: Graph\
    \ Connectivity\n        summary: Connectivity of the subgraph per cell type label\n\
    \        description: |\n          The graph connectivity metric assesses whether\
    \ the kNN graph representation,\n          G, of the integrated data directly\
    \ connects all cells with the same cell\n          identity label. For each cell\
    \ identity label c, we created the subset kNN\n          graph G(Nc;Ec) to contain\
    \ only cells from a given label. Using these subset\n          kNN graphs, we\
    \ computed the graph connectivity score using the equation:\n\n          gc =1/|C|\
    \ \u03A3c\u2208C |LCC(G(Nc;Ec))|/|Nc|.\n\n          Here, C represents the set\
    \ of cell identity labels, |LCC()| is the number\n          of nodes in the largest\
    \ connected component of the graph, and |Nc| is the\n          number of nodes\
    \ with cell identity c. The resultant score has a range\n          of (0;1], where\
    \ 1 indicates that all cells with the same cell identity\n          are connected\
    \ in the integrated kNN graph, and the lowest possible score\n          indicates\
    \ a graph where no cell is connected. As this score is computed\n          on\
    \ the kNN graph, it can be used to evaluate all integration outputs.\n       \
    \ reference: luecken2022benchmarking\n        min: 0\n        max: 1\n       \
    \ maximize: true\n        v1:\n          path: https://github.com/openproblems-bio/openproblems/blob/main/openproblems/tasks/_batch_integration/batch_integration_graph/metrics/graph_connectivity.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: graph\n      type_info:\n        label: Metric (graph)\n     \
    \   summary: A batch integration graph metric.\n        description: |\n     \
    \     A metric for evaluating batch corrected cell graphs.\n    status: enabled\n\
    \    set_wd_to_resources_dir: false\n    argument_groups: [\n      ]\n    allArguments:\n\
    \    - type: file\n      name: --input_integrated\n      info:\n        prediction_type:\
    \ graph\n        label: Integrated Graph\n        summary: Integrated AnnData\
    \ HDF5 file.\n        slots:\n          obsp:\n          - type: double\n    \
    \        name: connectivities\n            description: Neighbors connectivities\
    \ matrix.\n            required: true\n          - type: double\n            name:\
    \ distances\n            description: Neighbors connectivities matrix.\n     \
    \       required: true\n          uns:\n          - type: string\n           \
    \ name: dataset_id\n            description: A unique identifier for the dataset\n\
    \            required: true\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - name: dataset_organism\n            type: string\n       \
    \     description: The organism of the sample in the dataset.\n            required:\
    \ false\n          - type: string\n            name: method_id\n            description:\
    \ A unique identifier for the method\n            required: true\n          -\
    \ type: object\n            name: neighbors\n            description: Supplementary\
    \ K nearest neighbors data.\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id005\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: graph\n          label: Integrated\
    \ Graph\n          summary: Integrated AnnData HDF5 file.\n          slots:\n\
    \            obsp:\n            - type: double\n              name: connectivities\n\
    \              description: Neighbors connectivities matrix.\n              required:\
    \ true\n            - type: double\n              name: distances\n          \
    \    description: Neighbors connectivities matrix.\n              required: true\n\
    \            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n            - type: object\n              name: neighbors\n\
    \              description: Supplementary K nearest neighbors data.\n        \
    \      required: true\n        example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id005\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/graph_connectivity/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/graph_connectivity\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: hvg_overlap\n    namespace: batch_integration/metrics\n    version:\
    \ main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: feature\n        label: Integrated Feature\n\
    \        summary: Integrated AnnData HDF5 file.\n        slots:\n          layers:\n\
    \          - type: double\n            name: corrected_counts\n            description:\
    \ Corrected counts after integration\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_feature.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id006 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/hvg_overlap/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/pancreas\n\
    \      dest: resources_test/batch_integration/pancreas\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/check_metric_config.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: hvg_overlap\n        label: HVG overlap\n\
    \        summary: Overlap of highly variable genes per batch before and after\
    \ integration.\n        description: |\n          The HVG conservation score is\
    \ a proxy for the preservation of\n          the biological signal. If the data\
    \ integration method returned\n          a corrected data matrix, we computed\
    \ the number of HVGs before\n          and after correction for each batch via\
    \ Scanpy\u2019s\n          highly_variable_genes function (using the \u2018cell\
    \ ranger\u2019 flavor).\n          If available, we computed 500 HVGs per batch.\
    \ If fewer than 500\n          genes were present in the integrated object for\
    \ a batch,\n          the number of HVGs was set to half the total genes in that\
    \ batch.\n          The overlap coefficient is as follows:\n          overlap(\U0001D44B\
    ,\U0001D44C)=|\U0001D44B\u2229\U0001D44C|/min(|\U0001D44B|,|\U0001D44C|),\n\n\
    \          where X and Y denote the fraction of preserved informative genes.\n\
    \          The overall HVG score is the mean of the per-batch HVG overlap\n  \
    \        coefficients.\n        reference: luecken2022benchmarking\n        min:\
    \ 0\n        max: 1\n        maximize: true\n        v1:\n          path: openproblems/tasks/_batch_integration/batch_integration_feature/metrics/hvg_conservation.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n      type: metric\n\
    \      subtype: feature\n      type_info:\n        label: Metric (feature)\n \
    \       summary: A batch integration feature metric.\n        description: |\n\
    \          A metric for evaluating batch corrected feature spaces.\n    status:\
    \ enabled\n    set_wd_to_resources_dir: false\n    argument_groups: [\n      ]\n\
    \    allArguments:\n    - type: file\n      name: --input_integrated\n      info:\n\
    \        prediction_type: feature\n        label: Integrated Feature\n       \
    \ summary: Integrated AnnData HDF5 file.\n        slots:\n          layers:\n\
    \          - type: double\n            name: corrected_counts\n            description:\
    \ Corrected counts after integration\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_feature.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id006\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: feature\n          label: Integrated\
    \ Feature\n          summary: Integrated AnnData HDF5 file.\n          slots:\n\
    \            layers:\n            - type: double\n              name: corrected_counts\n\
    \              description: Corrected counts after integration\n             \
    \ required: true\n            uns:\n            - type: string\n             \
    \ name: dataset_id\n              description: A unique identifier for the dataset\n\
    \              required: true\n            - type: string\n              name:\
    \ normalization_id\n              description: Which normalization was used\n\
    \              required: true\n            - name: dataset_organism\n        \
    \      type: string\n              description: The organism of the sample in\
    \ the dataset.\n              required: false\n            - type: string\n  \
    \            name: method_id\n              description: A unique identifier for\
    \ the method\n              required: true\n        example: resources_test/batch_integration/pancreas/integrated_feature.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id006\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/hvg_overlap/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/hvg_overlap\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: isolated_label_asw\n    namespace: batch_integration/metrics\n    version:\
    \ main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id007 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/isolated_label_asw/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: isolated_label_asw\n        label: Isolated\
    \ label ASW\n        summary: Evaluate how well isolated labels separate by average\
    \ silhouette\n          width\n        description: |\n          Isolated cell\
    \ labels are defined as the labels present in the least number\n          of batches\
    \ in the integration task. The score evaluates how well these isolated labels\n\
    \          separate from other cell identities.\n\n          The isolated label\
    \ ASW score is obtained by computing the\n          ASW of isolated versus non-isolated\
    \ labels on the PCA embedding (ASW metric above) and\n          scaling this score\
    \ to be between 0 and 1. The final score for each metric version\n          consists\
    \ of the mean isolated score of all isolated labels.\n        reference: luecken2022benchmarking\n\
    \        v1:\n          path: openproblems/tasks/_batch_integration/batch_integration_graph/metrics/iso_label_sil.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n        min: 0\n\
    \        max: 1\n        maximize: true\n      type: metric\n      subtype: embedding\n\
    \      type_info:\n        label: Metric (embedding)\n        summary: A batch\
    \ integration embedding metric.\n        description: |\n          A metric for\
    \ evaluating batch corrected embeddings.\n      test_setup:\n        pancreas:\n\
    \          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id007\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id007\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/isolated_label_asw/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/isolated_label_asw\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: isolated_label_f1\n    namespace: batch_integration/metrics\n    version:\
    \ main_build\n    arguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: graph\n        label: Integrated Graph\n\
    \        summary: Integrated AnnData HDF5 file.\n        slots:\n          obsp:\n\
    \          - type: double\n            name: connectivities\n            description:\
    \ Neighbors connectivities matrix.\n            required: true\n          - type:\
    \ double\n            name: distances\n            description: Neighbors connectivities\
    \ matrix.\n            required: true\n          uns:\n          - type: string\n\
    \            name: dataset_id\n            description: A unique identifier for\
    \ the dataset\n            required: true\n          - type: string\n        \
    \    name: normalization_id\n            description: Which normalization was\
    \ used\n            required: true\n          - name: dataset_organism\n     \
    \       type: string\n            description: The organism of the sample in the\
    \ dataset.\n            required: false\n          - type: string\n          \
    \  name: method_id\n            description: A unique identifier for the method\n\
    \            required: true\n          - type: object\n            name: neighbors\n\
    \            description: Supplementary K nearest neighbors data.\n          \
    \  required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id008 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/isolated_label_f1/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/pancreas\n\
    \      dest: resources_test/batch_integration/pancreas\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/check_metric_config.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: isolated_label_f1\n        label: Isolated\
    \ label F1 score\n        summary: Evaluate how well isolated labels coincide\
    \ with clusters\n        description: |\n          We developed two isolated label\
    \ scores to evaluate how well the data integration methods\n          dealt with\
    \ cell identity labels shared by few batches. Specifically, we identified\n  \
    \        isolated cell labels as the labels present in the least number of batches\
    \ in the\n          integration task.\n          The score evaluates how well\
    \ these isolated labels separate from other cell identities.\n          We implemented\
    \ the isolated label metric in two versions:\n          (1) the best clustering\
    \ of the isolated label (F1 score) and\n          (2) the global ASW of the isolated\
    \ label. For the cluster-based score,\n          we first optimize the cluster\
    \ assignment of the isolated label using the F1 score\u02DA\n          across\
    \ louvain clustering resolutions ranging from 0.1 to 2 in resolution steps of\
    \ 0.1.\n          The optimal F1 score for the isolated label is then used as\
    \ the metric score.\n          The F1 score is a weighted mean of precision and\
    \ recall given by the equation:\n          \U0001D4391=2\xD7(precision\xD7recall)/(precision+recall).\n\
    \n          It returns a value between 0 and 1,\n          where 1 shows that\
    \ all of the isolated label cells and no others are captured in\n          the\
    \ cluster. For the isolated label ASW score, we compute the ASW of isolated\n\
    \          versus nonisolated labels on the PCA embedding (ASW metric above) and\
    \ scale this\n          score to be between 0 and 1. The final score for each\
    \ metric version consists of\n          the mean isolated score of all isolated\
    \ labels.\n        reference: luecken2022benchmarking\n        v1:\n         \
    \ path: openproblems/tasks/_batch_integration/batch_integration_graph/metrics/iso_label_f1.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n        min: 0\n\
    \        max: 1\n        maximize: true\n      type: metric\n      subtype: graph\n\
    \      type_info:\n        label: Metric (graph)\n        summary: A batch integration\
    \ graph metric.\n        description: |\n          A metric for evaluating batch\
    \ corrected cell graphs.\n    status: enabled\n    set_wd_to_resources_dir: false\n\
    \    argument_groups: [\n      ]\n    allArguments:\n    - type: file\n      name:\
    \ --input_integrated\n      info:\n        prediction_type: graph\n        label:\
    \ Integrated Graph\n        summary: Integrated AnnData HDF5 file.\n        slots:\n\
    \          obsp:\n          - type: double\n            name: connectivities\n\
    \            description: Neighbors connectivities matrix.\n            required:\
    \ true\n          - type: double\n            name: distances\n            description:\
    \ Neighbors connectivities matrix.\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n          - type: object\n            name:\
    \ neighbors\n            description: Supplementary K nearest neighbors data.\n\
    \            required: true\n      example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id008\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: graph\n          label: Integrated\
    \ Graph\n          summary: Integrated AnnData HDF5 file.\n          slots:\n\
    \            obsp:\n            - type: double\n              name: connectivities\n\
    \              description: Neighbors connectivities matrix.\n              required:\
    \ true\n            - type: double\n              name: distances\n          \
    \    description: Neighbors connectivities matrix.\n              required: true\n\
    \            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n            - type: object\n              name: neighbors\n\
    \              description: Supplementary K nearest neighbors data.\n        \
    \      required: true\n        example: resources_test/batch_integration/pancreas/integrated_graph.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id008\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/isolated_label_f1/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/isolated_label_f1\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: kbet\n    namespace: batch_integration/metrics\n    version: main_build\n\
    \    arguments:\n    - type: file\n      name: --input_integrated\n      info:\n\
    \        prediction_type: embedding\n        label: Integrated embedding\n   \
    \     summary: An integrated AnnData HDF5 file.\n        slots:\n          obsm:\n\
    \          - type: double\n            name: X_emb\n            description: integration\
    \ embedding prediction\n            required: true\n          uns:\n         \
    \ - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - type: string\n\
    \            name: normalization_id\n            description: Which normalization\
    \ was used\n            required: true\n          - name: dataset_organism\n \
    \           type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id009 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/kbet/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: kbet\n        label: kBET\n        summary:\
    \ kBET algorithm to determine how well batches are mixed within a cell\n     \
    \     type\n        description: |\n          The kBET algorithm (v.0.99.6, release\
    \ 4c9dafa) determines whether the label composition\n          of a k nearest\
    \ neighborhood of a cell is similar to the expected (global) label\n         \
    \ composition (Buettner et al., Nat Meth 2019). The test is repeated for a random\
    \ subset\n          of cells, and the results are summarized as a rejection rate\
    \ over all tested\n          neighborhoods. Thus, kBET works on a kNN graph.\n\
    \n          We compute kNN graphs where k\u2009=\u200950 for joint embeddings\
    \ and corrected feature outputs\n          via Scanpy preprocessing steps. To\
    \ test for technical effects and to account for\n          cell-type frequency\
    \ shifts across datasets, we applied kBET\n          separately on the batch variable\
    \ for each cell identity label. Using the kBET defaults,\n          a k equal\
    \ to the median of the number of cells per batch within each label is used for\n\
    \          this computation. Additionally, we set the minimum and maximum thresholds\
    \ of k to 10 and\n          100, respectively. As kNN graphs that have been subset\
    \ by cell identity labels may no\n          longer be connected, we compute kBET\
    \ per connected component. If >25% of cells were\n          assigned to connected\
    \ components too small for kBET computation (smaller than k\u2009\xD7\u20093),\n\
    \          we assigned a kBET score of 1 to denote poor batch removal. Subsequently,\
    \ kBET scores\n          for each label were averaged and subtracted from 1 to\
    \ give a final kBET score.\n\n          In Open Problems we do not run kBET on\
    \ graph outputs to avoid computation-intensive\n          diffusion processes\
    \ being run.\n        reference: luecken2022benchmarking\n        v1:\n      \
    \    path: openproblems/tasks/_batch_integration/batch_integration_embed/metrics/kBET.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n        min: 0\n\
    \        max: 1\n        maximize: true\n      type: metric\n      subtype: embedding\n\
    \      type_info:\n        label: Metric (embedding)\n        summary: A batch\
    \ integration embedding metric.\n        description: |\n          A metric for\
    \ evaluating batch corrected embeddings.\n      test_setup:\n        pancreas:\n\
    \          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id009\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id009\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_r:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: r\n      github:\n      - theislab/kBET\n      bioc_force_install:\
    \ false\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      - rpy2>=3\n      - anndata2ri\n      upgrade: true\n  - type: nextflow\n\
    \    id: nextflow\n    directives:\n      label:\n      - midtime\n      - midmem\n\
    \      - lowcpu\n      tag: $id\n    auto:\n      simplifyInput: true\n      simplifyOutput:\
    \ false\n      transcript: false\n      publish: false\n    config:\n      labels:\n\
    \        lowmem: memory = 20.Gb\n        midmem: memory = 50.Gb\n        highmem:\
    \ memory = 100.Gb\n        lowcpu: cpus = 5\n        midcpu: cpus = 15\n     \
    \   highcpu: cpus = 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n\
    \        hightime: time = 8.h\n      script:\n      - process.errorStrategy =\
    \ 'ignore'\n    debug: false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/kbet/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/kbet\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n- functionality:\n\
    \    name: pcr\n    namespace: batch_integration/metrics\n    version: main_build\n\
    \    arguments:\n    - type: file\n      name: --input_integrated\n      info:\n\
    \        prediction_type: embedding\n        label: Integrated embedding\n   \
    \     summary: An integrated AnnData HDF5 file.\n        slots:\n          obsm:\n\
    \          - type: double\n            name: X_emb\n            description: integration\
    \ embedding prediction\n            required: true\n          uns:\n         \
    \ - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - type: string\n\
    \            name: normalization_id\n            description: Which normalization\
    \ was used\n            required: true\n          - name: dataset_organism\n \
    \           type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: &id010 !!org.codehaus.groovy.runtime.GStringImpl\
    \ {\n        }\n    resources:\n    - type: python_script\n      path: script.py\n\
    \      is_executable: true\n      parent: file:/home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/pcr/\n\
    \    test_resources:\n    - type: file\n      path: resources_test/batch_integration/\n\
    \      dest: resources_test/batch_integration/\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: python_script\n      path: src/common/comp_tests/run_and_check_adata.py\n\
    \      is_executable: true\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    - type: file\n      path: src/common/library.bib\n      parent: file:///home/runner/work/openproblems-v2/openproblems-v2/\n\
    \    info:\n      metrics:\n      - name: pcr\n        label: PCR\n        summary:\
    \ Compare explained variance by batch before and after integration\n        description:\
    \ |\n          Principal component regression, derived from PCA, has previously\
    \ been used to quantify\n          batch removal. Briefly, the R2 was calculated\
    \ from a linear regression of the\n          covariate of interest (for example,\
    \ the batch variable B) onto each principal component.\n          The variance\
    \ contribution of the batch effect per principal component was then\n        \
    \  calculated as the product of the variance explained by the ith principal component\
    \ (PC)\n          and the corresponding R2(PCi|B). The sum across all variance\
    \ contributions by the batch\n          effects in all principal components gives\
    \ the total variance explained by the batch\n          variable as follows:\n\
    \          Var(\U0001D436|\U0001D435)=\u2211\U0001D456=1\U0001D43AVar(\U0001D436\
    |PC\U0001D456)\xD7\U0001D4452(PC\U0001D456|\U0001D435),\n\n          where Var(C|PCi)\
    \ is the variance of the data matrix C explained by the ith principal\n      \
    \    component.\n        reference: luecken2022benchmarking\n        v1:\n   \
    \       path: openproblems/tasks/_batch_integration/batch_integration_embed/metrics/pcr.py\n\
    \          commit: b3456fd73c04c28516f6df34c57e6e3e8b0dab32\n        min: 0\n\
    \        max: 1\n        maximize: true\n      type: metric\n      subtype: embedding\n\
    \      type_info:\n        label: Metric (embedding)\n        summary: A batch\
    \ integration embedding metric.\n        description: |\n          A metric for\
    \ evaluating batch corrected embeddings.\n      test_setup:\n        pancreas:\n\
    \          input_integrated: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/pancreas/solution.h5ad\n\
    \        cellxgene_census:\n          input_integrated: resources_test/batch_integration/cxg_mouse_pancreas_atlas/integrated_embedding.h5ad\n\
    \          input_solution: resources_test/batch_integration/cxg_mouse_pancreas_atlas/solution.h5ad\n\
    \    status: enabled\n    set_wd_to_resources_dir: false\n    argument_groups:\
    \ [\n      ]\n    allArguments:\n    - type: file\n      name: --input_integrated\n\
    \      info:\n        prediction_type: embedding\n        label: Integrated embedding\n\
    \        summary: An integrated AnnData HDF5 file.\n        slots:\n         \
    \ obsm:\n          - type: double\n            name: X_emb\n            description:\
    \ integration embedding prediction\n            required: true\n          uns:\n\
    \          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - name: dataset_organism\n\
    \            type: string\n            description: The organism of the sample\
    \ in the dataset.\n            required: false\n          - type: string\n   \
    \         name: method_id\n            description: A unique identifier for the\
    \ method\n            required: true\n      example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: input\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: input_integrated\n    - type: file\n      name: --input_solution\n\
    \      info:\n        label: Solution\n        summary: Solution dataset\n   \
    \     slots:\n          layers:\n          - type: integer\n            name:\
    \ counts\n            description: Raw counts\n            required: true\n  \
    \        - type: double\n            name: normalized\n            description:\
    \ Normalized expression values\n            required: true\n          obs:\n \
    \         - type: string\n            name: batch\n            description: Batch\
    \ information\n            required: true\n          - type: string\n        \
    \    name: label\n            description: label information\n            required:\
    \ true\n          var:\n          - type: boolean\n            name: hvg\n   \
    \         description: Whether or not the feature is considered to be a 'highly\n\
    \              variable gene'\n            required: true\n          - type: double\n\
    \            name: hvg_score\n            description: A ranking of the features\
    \ by hvg.\n            required: true\n          - type: string\n            name:\
    \ feature_name\n            description: A human-readable name for the feature,\
    \ usually a gene symbol.\n            required: true\n          obsm:\n      \
    \    - type: double\n            name: X_pca\n            description: The resulting\
    \ PCA embedding.\n            required: true\n          obsp:\n          - type:\
    \ double\n            name: knn_distances\n            description: K nearest\
    \ neighbors distance matrix.\n            required: true\n          - type: double\n\
    \            name: knn_connectivities\n            description: K nearest neighbors\
    \ connectivities matrix.\n            required: true\n          uns:\n       \
    \   - type: string\n            name: dataset_id\n            description: A unique\
    \ identifier for the dataset\n            required: true\n          - name: dataset_name\n\
    \            type: string\n            description: Nicely formatted name.\n \
    \           required: true\n          - type: string\n            name: dataset_url\n\
    \            description: Link to the original source of the dataset.\n      \
    \      required: false\n          - name: dataset_reference\n            type:\
    \ string\n            description: Bibtex reference of the paper in which the\
    \ dataset was published.\n            required: false\n          - name: dataset_summary\n\
    \            type: string\n            description: Short description of the dataset.\n\
    \            required: true\n          - name: dataset_description\n         \
    \   type: string\n            description: Long description of the dataset.\n\
    \            required: true\n          - name: dataset_organism\n            type:\
    \ string\n            description: The organism of the sample in the dataset.\n\
    \            required: false\n          - type: string\n            name: normalization_id\n\
    \            description: Which normalization was used\n            required:\
    \ true\n          - type: object\n            name: knn\n            description:\
    \ Supplementary K nearest neighbors data.\n            required: true\n      example:\
    \ resources_test/batch_integration/pancreas/solution.h5ad\n      must_exist: true\n\
    \      create_parent: true\n      required: true\n      direction: input\n   \
    \   multiple: false\n      multiple_sep: ':'\n      dest: par\n      plainName:\
    \ input_solution\n    - type: file\n      name: --output\n      info:\n      \
    \  label: Score\n        summary: Metric score file\n        slots:\n        \
    \  uns:\n          - type: string\n            name: dataset_id\n            description:\
    \ A unique identifier for the dataset\n            required: true\n          -\
    \ type: string\n            name: normalization_id\n            description: Which\
    \ normalization was used\n            required: true\n          - type: string\n\
    \            name: method_id\n            description: A unique identifier for\
    \ the method\n            required: true\n          - type: string\n         \
    \   name: metric_ids\n            description: One or more unique metric identifiers\n\
    \            multiple: true\n            required: true\n          - type: double\n\
    \            name: metric_values\n            description: The metric values obtained\
    \ for the given prediction. Must\n              be of same length as 'metric_ids'.\n\
    \            multiple: true\n            required: true\n      example: score.h5ad\n\
    \      must_exist: true\n      create_parent: true\n      required: true\n   \
    \   direction: output\n      multiple: false\n      multiple_sep: ':'\n      dest:\
    \ par\n      plainName: output\n      default: *id010\n    allArgumentGroups:\n\
    \    - name: Arguments\n      arguments:\n      - type: file\n        name: --input_integrated\n\
    \        info:\n          prediction_type: embedding\n          label: Integrated\
    \ embedding\n          summary: An integrated AnnData HDF5 file.\n          slots:\n\
    \            obsm:\n            - type: double\n              name: X_emb\n  \
    \            description: integration embedding prediction\n              required:\
    \ true\n            uns:\n            - type: string\n              name: dataset_id\n\
    \              description: A unique identifier for the dataset\n            \
    \  required: true\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: method_id\n\
    \              description: A unique identifier for the method\n             \
    \ required: true\n        example: resources_test/batch_integration/pancreas/integrated_embedding.h5ad\n\
    \        must_exist: true\n        create_parent: true\n        required: true\n\
    \        direction: input\n        multiple: false\n        multiple_sep: ':'\n\
    \        dest: par\n        plainName: input_integrated\n      - type: file\n\
    \        name: --input_solution\n        info:\n          label: Solution\n  \
    \        summary: Solution dataset\n          slots:\n            layers:\n  \
    \          - type: integer\n              name: counts\n              description:\
    \ Raw counts\n              required: true\n            - type: double\n     \
    \         name: normalized\n              description: Normalized expression values\n\
    \              required: true\n            obs:\n            - type: string\n\
    \              name: batch\n              description: Batch information\n   \
    \           required: true\n            - type: string\n              name: label\n\
    \              description: label information\n              required: true\n\
    \            var:\n            - type: boolean\n              name: hvg\n    \
    \          description: Whether or not the feature is considered to be a 'highly\n\
    \                variable gene'\n              required: true\n            - type:\
    \ double\n              name: hvg_score\n              description: A ranking\
    \ of the features by hvg.\n              required: true\n            - type: string\n\
    \              name: feature_name\n              description: A human-readable\
    \ name for the feature, usually a gene symbol.\n              required: true\n\
    \            obsm:\n            - type: double\n              name: X_pca\n  \
    \            description: The resulting PCA embedding.\n              required:\
    \ true\n            obsp:\n            - type: double\n              name: knn_distances\n\
    \              description: K nearest neighbors distance matrix.\n           \
    \   required: true\n            - type: double\n              name: knn_connectivities\n\
    \              description: K nearest neighbors connectivities matrix.\n     \
    \         required: true\n            uns:\n            - type: string\n     \
    \         name: dataset_id\n              description: A unique identifier for\
    \ the dataset\n              required: true\n            - name: dataset_name\n\
    \              type: string\n              description: Nicely formatted name.\n\
    \              required: true\n            - type: string\n              name:\
    \ dataset_url\n              description: Link to the original source of the dataset.\n\
    \              required: false\n            - name: dataset_reference\n      \
    \        type: string\n              description: Bibtex reference of the paper\
    \ in which the dataset was\n                published.\n              required:\
    \ false\n            - name: dataset_summary\n              type: string\n   \
    \           description: Short description of the dataset.\n              required:\
    \ true\n            - name: dataset_description\n              type: string\n\
    \              description: Long description of the dataset.\n              required:\
    \ true\n            - name: dataset_organism\n              type: string\n   \
    \           description: The organism of the sample in the dataset.\n        \
    \      required: false\n            - type: string\n              name: normalization_id\n\
    \              description: Which normalization was used\n              required:\
    \ true\n            - type: object\n              name: knn\n              description:\
    \ Supplementary K nearest neighbors data.\n              required: true\n    \
    \    example: resources_test/batch_integration/pancreas/solution.h5ad\n      \
    \  must_exist: true\n        create_parent: true\n        required: true\n   \
    \     direction: input\n        multiple: false\n        multiple_sep: ':'\n \
    \       dest: par\n        plainName: input_solution\n      - type: file\n   \
    \     name: --output\n        info:\n          label: Score\n          summary:\
    \ Metric score file\n          slots:\n            uns:\n            - type: string\n\
    \              name: dataset_id\n              description: A unique identifier\
    \ for the dataset\n              required: true\n            - type: string\n\
    \              name: normalization_id\n              description: Which normalization\
    \ was used\n              required: true\n            - type: string\n       \
    \       name: method_id\n              description: A unique identifier for the\
    \ method\n              required: true\n            - type: string\n         \
    \     name: metric_ids\n              description: One or more unique metric identifiers\n\
    \              multiple: true\n              required: true\n            - type:\
    \ double\n              name: metric_values\n              description: The metric\
    \ values obtained for the given prediction. Must\n                be of same length\
    \ as 'metric_ids'.\n              multiple: true\n              required: true\n\
    \        example: score.h5ad\n        must_exist: true\n        create_parent:\
    \ true\n        required: true\n        direction: output\n        multiple: false\n\
    \        multiple_sep: ':'\n        dest: par\n        plainName: output\n   \
    \     default: *id010\n  platforms:\n  - type: docker\n    id: docker\n    image:\
    \ ghcr.io/openproblems-bio/base_python:1.0.4\n    target_organization: openproblems-bio\n\
    \    target_registry: ghcr.io\n    namespace_separator: /\n    resolve_volume:\
    \ Automatic\n    chown: true\n    setup_strategy: ifneedbepullelsecachedbuild\n\
    \    target_image_source: https://github.com/openproblems-bio/openproblems-v2\n\
    \    setup:\n    - type: python\n      user: false\n      pypi:\n      - scib==1.1.5\n\
    \      upgrade: true\n  - type: nextflow\n    id: nextflow\n    directives:\n\
    \      label:\n      - midtime\n      - midmem\n      - lowcpu\n      tag: $id\n\
    \    auto:\n      simplifyInput: true\n      simplifyOutput: false\n      transcript:\
    \ false\n      publish: false\n    config:\n      labels:\n        lowmem: memory\
    \ = 20.Gb\n        midmem: memory = 50.Gb\n        highmem: memory = 100.Gb\n\
    \        lowcpu: cpus = 5\n        midcpu: cpus = 15\n        highcpu: cpus =\
    \ 30\n        lowtime: time = 1.h\n        midtime: time = 4.h\n        hightime:\
    \ time = 8.h\n      script:\n      - process.errorStrategy = 'ignore'\n    debug:\
    \ false\n    container: docker\n  info:\n    config: /home/runner/work/openproblems-v2/openproblems-v2/src/tasks/batch_integration/metrics/pcr/config.vsh.yaml\n\
    \    platform: nextflow\n    output: /home/runner/work/openproblems-v2/openproblems-v2/target/nextflow/batch_integration/metrics/pcr\n\
    \    viash_version: 0.8.0\n    git_commit: d0bc03fb05d43fb26f51c6fe6aa2e2a2f7ff5ade\n\
    \    git_remote: https://github.com/openproblems-bio/openproblems-v2\n"
scores:
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.3255132382658372
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8580085887850265
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5377879595923591
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9750784948768607
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.46664313756768383
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.6042696159415626
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9853695461007762
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.08089266038692541
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.883365244491671
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.4249601824010457
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.31845724471172154
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.5854719146057956
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.7627071053631129
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9473116675284577
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.8921106339170939
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.2869291876119495
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.7114252921742202
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.15188881148140726
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.3947932126125749
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8750334555472606
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.8627903433994684
  - 0.8699918275537453
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.7455449997794659
  - 0.8086388383868919
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5524423732431595
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8868285149045455
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8657370990742944
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.821819115837174
  - 0.8353984640591646
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5806213502498458
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8687548821734659
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5581822344856513
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6888574858458963
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6126161059219157
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.6454231543991708
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - kbet
  metric_values:
  - 0.28761618687169743
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.6246610108445072
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.6661643012326668
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.015479876160990712
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_label
  metric_values:
  - 0.5979942455887794
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.3313196320578531
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.4450413750518892
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5764585362202539
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.9147442326980942
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.420747157421932
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.2403499832664857
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.3738303505726339
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/tabula_sapiens
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.7591254646793125
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.5582346973860729
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.6331239965368081
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.6572075873850503
  - 0.7477782334248884
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.10526315789473684
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.20005104322052425
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.5971238504200509
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5979873392388106
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8079558178021039
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.2048512610465972
  - 0.4284709416808383
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.8239184444375613
  - 0.7975090548701719
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8471862033421875
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9743990636113423
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8171755349665585
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - kbet
  metric_values:
  - 0.23789320988848495
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.0037094281298299847
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8171732447095269
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.1436846171321348
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6048481972501111
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.2109174544215069
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8372966071392247
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.952347059486767
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.6447732160361654
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8800019208497138
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.5422037515082893
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8414565263602152
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8800227420788888
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.1076923076923077
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.4481994581076891
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.598372937106361
  - 0.7705111821921484
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_label
  metric_values:
  - 0.46109333261847496
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5872345580039797
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8741500428767865
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.6445370784169757
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6509907378168559
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.43741963407709505
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5164913837821894
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.05065856129685917
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - kbet
  metric_values:
  - 0.26082269419160997
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.5374436979985026
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5506207076874677
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.791688365963002
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8424551693941895
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/tabula_sapiens
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.834970343652736
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.06722689075630252
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8512978776648755
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.1621189549418644
  - 0.4165466763834972
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.6915863216598526
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6557341421341515
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5691074790156082
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.6682311530148503
  - 0.7642051484865183
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_label
  metric_values:
  - 0.5764544382691383
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.536272854306362
  - 0.7587012404574418
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.431057864209624
  - 0.590907691482959
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.747730197530676
  - 0.8019792459397428
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.5977561217947698
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.017605633802816902
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.36659107476645947
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/tabula_sapiens
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.4817606446413968
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.705205022257162
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.26025825147138093
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.4928541308947246
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.13032587686885339
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.26529242243115503
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6198988479882942
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8654997431796515
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.744697774463226
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/tabula_sapiens
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.34855085565509814
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.7398185366127582
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.4075651233023341
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6149211305794932
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8896361074704594
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.30576463872393045
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.828624279299221
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.7783165028245372
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.6526738509687204
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.7110215859186669
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.6380402815434679
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6353967199785221
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.0993664865147084
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.1940488270724437
  - 0.4755623419923488
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.208188582483341
  - 0.5109392463102104
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6126060431030816
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8753993647565578
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_label
  metric_values:
  - 0.6454109996557236
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.691674173838726
  - 0.7602734973194427
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.49285481828264893
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/immune_cell_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.26590035190124917
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5689980536699295
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.4395073033605828
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.46109162289035416
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - kbet
  metric_values:
  - 0.401790160993045
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.85263932147236
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_label
  metric_values:
  - 0.5009067067159605
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.07246376811594203
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.3051708158108699
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8257598882006388
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6457898282302048
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8798958297142497
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6509924539579794
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5216831454407524
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.8334246869151507
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8354174844518326
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.4076456696633636
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9659618678255045
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.8279039533186816
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.24634166444050476
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.4633305354056315
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9745773785350427
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_label
  metric_values:
  - 0.3813828048895146
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.6697494746474759
  - 0.79753302580307
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/hypomap
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.2702397998442503
  - 0.5931143490053996
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.6045027604117696
  - 0.7388579176833128
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.6168943352121719
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.4706286615887941
  - 0.6136540568970241
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9597832833188114
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9525396172560354
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_label
  metric_values:
  - 0.4233035956263316
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - kbet
  metric_values:
  - 0.47216894043072655
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.8625715455437463
  - 0.8702658776356176
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - isolated_label_f1
  metric_values:
  - 0.8341352814267895
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.5559427764461106
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8750224921493074
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/dkd
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.534345268320971
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.5844756216295539
  - 0.7105948218286626
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8300577967200792
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.5462063642226335
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/cengen
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.2101476123035176
  - 0.46297136470891187
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.8978287837268374
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8855665376500843
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: pyliger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8227822339328654
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.21475122306965289
  - 0.5067441056442057
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_feature
  metric_ids:
  - ari
  - nmi
  metric_values:
  - 0.7313522852447123
  - 0.7966259425978058
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - kbet
  metric_values:
  - 0.23726771723770668
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/pancreas
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - graph_connectivity
  metric_values:
  - 0.9638754791655847
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/gtex_v9
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - asw_batch
  metric_values:
  - 0.7487404600420055
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/immune_cells
  date_created: 28-06-2024
  file_size: 22632
  method_id: fastmnn_embedding
  metric_ids:
  - asw_batch
  metric_values:
  - 0.8855722704189107
  normalization_id: log_cp10k
- dataset_id: openproblems_v1/zebrafish
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - kbet
  metric_values:
  - 0.34452883224386677
  normalization_id: log_cp10k
- dataset_id: cellxgene_census/mouse_pancreas_atlas
  date_created: 28-06-2024
  file_size: 22632
  method_id: liger
  metric_ids:
  - isolated_label_asw
  metric_values:
  - 0.6472186370146333
  normalization_id: log_cp10k
task_info:
  authors:
  - info:
      github: mumichae
    name: Michaela Mueller
    roles:
    - maintainer
    - author
  - info:
      github: KaiWaldrant
      orcid: 0009-0003-8555-1361
    name: Kai Waldrant
    roles:
    - contributor
  - info:
      github: rcannood
      orcid: 0000-0003-3641-729X
    name: Robrecht Cannoodt
    roles:
    - contributor
  - info:
      github: danielStrobl
    name: Daniel Strobl
    roles:
    - author
  description: 'In this task we evaluate batch integration methods on their ability
    to remove batch effects in the data while conserving variation attributed to biological
    effects.

    As input, methods require either normalised or unnormalised data with multiple
    batches and consistent cell type labels.

    The batch integrated output can be a feature matrix, a low dimensional embedding
    and/or a neighbourhood graph.

    The respective batch-integrated representation is then evaluated using sets of
    metrics that capture how well batch effects are removed and whether biological
    variance is conserved.

    We have based this particular task on the latest, and most extensive benchmark
    of single-cell data integration methods.

    '
  image: thumbnail.svg
  label: Batch Integration
  motivation: 'As single-cell technologies advance, single-cell datasets are growing
    both in size and complexity.

    Especially in consortia such as the Human Cell Atlas, individual studies combine
    data from multiple labs, each sequencing multiple individuals possibly with different
    technologies.

    This gives rise to complex batch effects in the data that must be computationally
    removed to perform a joint analysis.

    These batch integration methods must remove the batch effect while not removing
    relevant biological information.

    Currently, over 200 tools exist that aim to remove batch effects scRNA-seq datasets
    [@zappia2018exploring].

    These methods balance the removal of batch effects with the conservation of nuanced
    biological information in different ways.

    This abundance of tools has complicated batch integration method choice, leading
    to several benchmarks on this topic [@luecken2020benchmarking; @tran2020benchmark;
    @chazarragil2021flexible; @mereu2020benchmarking].

    Yet, benchmarks use different metrics, method implementations and datasets. Here
    we build a living benchmarking task for batch integration methods with the vision
    of improving the consistency of method evaluation.

    '
  name: batch_integration
  summary: Remove unwanted batch effects from scRNA data while retaining biologically
    meaningful variation.
  v1:
    commit: 637163fba7d74ab5393c2adbee5354dcf4d46f85
    path: openproblems/tasks/batch_integration/README.md
